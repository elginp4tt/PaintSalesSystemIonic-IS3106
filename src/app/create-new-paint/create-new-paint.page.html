<ion-header>
	<ion-toolbar>
		<ion-buttons slot="start">
			<ion-menu-button></ion-menu-button>
		</ion-buttons>
		<ion-title>
			Create New Paint
		</ion-title>
	</ion-toolbar>
</ion-header>

<ion-content>
	<ion-card>      
		<ion-card-header>        
			<ion-card-title>Create New Paint</ion-card-title>
		</ion-card-header>
		<ion-card-content>
		
			<div *ngIf="infoMessage">
				{{infoMessage}}
			</div>

			<div *ngIf="errorMessage">
				{{errorMessage}}
			</div>
			
			<form #createPaintForm="ngForm" (ngSubmit)="create(createPaintForm)">
			
				<ion-grid>
				
					<ion-row>
						<ion-col>
							<ion-label>Name</ion-label>
						</ion-col>
						<ion-col>
							<ion-input type="text" id="name" name="name" [(ngModel)]="newPaint.name" required="true" #name="ngModel"></ion-input>
						</ion-col>
						<ion-col>
							<div *ngIf="name.invalid && (name.dirty || name.touched || submitted)" style="color: red;">
								<div *ngIf="name.errors.required">
									Name is required
								</div>
							</div>
						</ion-col>
					</ion-row>
					
					<ion-row>
						<ion-col>
							<ion-label>Colour Code</ion-label>
						</ion-col>
						<ion-col>
							<ion-input type="text" id="colourCode" name="colourCode" [(ngModel)]="newPaint.colourCode" required="true" #colourCode="ngModel"></ion-input>
						</ion-col>
						<ion-col>
							<div *ngIf="colourCode.invalid && (colourCode.dirty || colourCode.touched || submitted)" style="color: red;">
								<div *ngIf="colourCode.errors.required">
									Colour Code is required
								</div>
							</div>
						</ion-col>
					</ion-row>
					
					<ion-row>
						<ion-col>
							<ion-label>Price</ion-label>
						</ion-col>
						<ion-col>
							<ion-input type="text" id="price" name="price" [(ngModel)]="newPaint.price" required="true" #price="ngModel"></ion-input>
						</ion-col>
						<ion-col>
							<div *ngIf="price.invalid && (price.dirty || price.touched || submitted)" style="color: red;">
								<div *ngIf="price.errors.required">
									Price is required
								</div>
							</div>
						</ion-col>
					</ion-row>
					
					<ion-row>
						<ion-col>
							<ion-label>Paint Categories</ion-label>
						</ion-col>
						<ion-col>
							<ion-select placeholder="Select Many" id="paintCategory" name="paintCategory" #paintCategory="ngModel" [(ngModel)]="paintCategoryId" required="true" multiple="true">
							  <ion-select-option *ngFor="let paintCategory of paintCategories" value="{{paintCategory.paintCategoryId}}">{{paintCategory.categoryName}}</ion-select-option>
							</ion-select>
						</ion-col>
						<ion-col>
							<div *ngIf="paintCategory.invalid && (paintCategory.dirty || paintCategory.touched || submitted)" style="color: red;">
								<div *ngIf="paintCategory.errors.required">
									Paint Category is required
								</div>
							</div>
						</ion-col>
					</ion-row>
					
					<ion-row>
						<ion-col>
							<ion-label>Tags</ion-label>
						</ion-col>
						<ion-col>
							<ion-select placeholder="Select Many" id="tag" name="tag" [(ngModel)]="tagIds" multiple="true">
							  <ion-select-option *ngFor="let tag of tags" value="{{tag.tagId}}">{{tag.tagName}}</ion-select-option>
							</ion-select>
						</ion-col>
						<ion-col>
							<div *ngIf="tag.invalid && (tag.dirty || tag.touched || submitted)" style="color: red;">
								<div *ngIf="tag.errors.required">
									Tag is required
								</div>
							</div>
						</ion-col>
					</ion-row>
					
					<ion-row>
						<ion-col></ion-col>
						<ion-col>
							<ion-button (click)="clear()">
								Clear
							</ion-button>
							<ion-button type="submit" ion-button block>
								Create
							</ion-button>
						</ion-col>
						<ion-col></ion-col>
					</ion-row>
					
				</ion-grid>
				
			</form>
			
		</ion-card-content>
	</ion-card>
</ion-content>

<ion-footer>
	<ion-title size="small">&copy; 2020 IS3106. All rights reserved.</ion-title>
</ion-footer>